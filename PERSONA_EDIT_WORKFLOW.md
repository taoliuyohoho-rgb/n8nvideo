# 人设编辑完整流程说明

## 🎯 现在的编辑体验

### 编辑现有人设的完整流程：

#### 第1步：打开编辑弹窗
在人设管理页面，点击任意人设的"编辑"按钮

#### 第2步：看到编辑表单
弹窗会显示**表单页面**，包含：

```
┌─────────────────────────────────────────┐
│  编辑人设                                │
├─────────────────────────────────────────┤
│  [人设名称]          [目标市场]          │
│  [人设描述]                              │
│                                          │
│  ┌──────────────────────────────────┐   │
│  │ 📦 类目与商品信息               │   │
│  │ [类目选择] ✅    [商品选择] ✅   │   │ ← 可以修改！
│  │ 💡 提示信息                     │   │
│  └──────────────────────────────────┘   │
│                                          │
│  [AI推荐区域]                            │
│  [人设描述输入框]                        │
│                                          │
│  ┌──────────────────────────────────┐   │
│  │ ✅ 已有完整人设内容              │   │
│  │ 修改类目和商品后，点击"保存修改"  │   │ ← 编辑模式提示
│  │ 如需编辑详细内容，点击下方按钮    │   │
│  └──────────────────────────────────┘   │
│                                          │
│  [取消] [查看/编辑详细内容] [保存修改]   │ ← 三个按钮
└─────────────────────────────────────────┘
```

#### 第3步：根据需要选择操作

**场景A：只修改类目或商品**
1. 直接修改类目选择框
2. 直接修改商品选择框
3. 点击"保存修改"按钮
4. 完成！✅

**场景B：要修改详细的人设内容**
1. 点击"查看/编辑详细内容"按钮
2. 进入预览页面，可以看到：
   - 基础信息（年龄、性别、职业、收入、地区）
   - 行为特征（购买习惯、使用场景、决策因素、品牌偏好）
   - 偏好特征（价格敏感度、功能需求、品质期望、服务期望）
   - 心理特征（价值观、生活方式、痛点、动机）
3. 在各个标签页中编辑内容
4. 如需修改类目/商品，点击"返回修改"
5. 点击"保存到库"
6. 完成！✅

**场景C：同时修改类目和详细内容**
1. 先修改类目和商品
2. 点击"查看/编辑详细内容"
3. 编辑详细人设内容
4. 点击"保存到库"
5. 完成！✅

---

## 🆕 新增人设的流程

#### 第1步：打开新增弹窗
点击"添加人设"按钮

#### 第2步：填写基本信息
```
┌─────────────────────────────────────────┐
│  创建人设                                │
├─────────────────────────────────────────┤
│  [人设名称]          [目标市场]          │
│  [人设描述]                              │
│                                          │
│  ┌──────────────────────────────────┐   │
│  │ 📦 类目与商品信息               │   │
│  │ [选择类目] *    [选择商品]      │   │
│  └──────────────────────────────────┘   │
│                                          │
│  [AI推荐区域]                            │
│  [人设描述输入框]                        │
│                                          │
│  [取消]              [AI生成预览] ✨      │
└─────────────────────────────────────────┘
```

#### 第3步：AI生成人设
1. 填写人设名称 *
2. 选择类目 *
3. 选择商品（可选）
4. 填写人设描述（帮助AI生成）
5. 点击"AI生成预览"按钮
6. 等待AI生成...

#### 第4步：编辑预览内容
1. 查看AI生成的人设内容
2. 在各个标签页中修改内容
3. 如需修改类目/商品，点击"返回修改"
4. 点击"保存到库"
5. 完成！✅

---

## 🔄 对比：编辑 vs 新增

| 操作 | 编辑现有人设 | 新增人设 |
|------|------------|---------|
| **打开方式** | 点击"编辑"按钮 | 点击"添加人设"按钮 |
| **初始页面** | 表单页（显示已有数据）| 表单页（空表单）|
| **类目商品** | ✅ 可修改 | ✅ 必填/可选 |
| **人设内容** | ✅ 已有内容 | ❌ 需要生成 |
| **主要按钮** | "查看/编辑详细内容" + "保存修改" | "AI生成预览" |
| **快速保存** | ✅ 只改类目/商品可直接保存 | ❌ 必须先生成内容 |

---

## 💡 常见操作场景

### 场景1：把人设从"3C数码"改到"美妆"
```
1. 点击编辑
2. 在蓝色框中修改类目：3C数码 → 美妆
3. 在蓝色框中修改商品：选择美妆类的商品
4. 点击"保存修改"
5. 完成！✅
```

### 场景2：修改人设的年龄段
```
1. 点击编辑
2. 看到绿色提示框"已有完整人设内容"
3. 点击"查看/编辑详细内容"
4. 在"基础信息"标签页修改年龄段
5. 点击"保存到库"
6. 完成！✅
```

### 场景3：同时修改类目和年龄段
```
1. 点击编辑
2. 修改类目和商品
3. 点击"查看/编辑详细内容"
4. 修改年龄段
5. 点击"保存到库"
6. 完成！✅
```

---

## 🎨 界面元素说明

### 表单页面元素

| 元素 | 说明 | 编辑模式 | 新增模式 |
|------|------|---------|---------|
| **蓝色边框区域** | 类目与商品信息 | ✅ 显示 | ✅ 显示 |
| **绿色提示框** | "已有完整人设内容" | ✅ 显示 | ❌ 不显示 |
| **"查看/编辑详细内容"** 按钮 | 查看详细人设 | ✅ 显示 | ❌ 不显示 |
| **"保存修改"** 按钮 | 直接保存 | ✅ 显示 | ❌ 不显示 |
| **"AI生成预览"** 按钮 | 生成新内容 | ❌ 不显示 | ✅ 显示 |

### 预览页面元素

| 标签页 | 内容 |
|--------|------|
| **基础信息** | 年龄段、性别、职业、收入水平、地区 |
| **行为特征** | 购买习惯、使用场景、决策因素、品牌偏好 |
| **偏好特征** | 价格敏感度、功能需求、品质期望、服务期望 |
| **心理特征** | 价值观、生活方式、痛点、动机 |

---

## ✅ 关键改进点

1. **✅ 编辑时能看到类目和商品** - 不再跳过表单页
2. **✅ 清晰的操作引导** - 绿色提示框说明当前状态
3. **✅ 灵活的保存方式** - 可以只改类目直接保存，也可以深入编辑详细内容
4. **✅ 明确的按钮标签** - "保存修改"vs"AI生成预览"
5. **✅ 统一的类目名称** - 运行脚本后全部统一

---

## 🔧 技术实现

### 按钮逻辑
```typescript
// 表单页底部按钮
if (editingPersona && personaContent) {
  // 编辑模式 + 已有内容
  显示: [取消] [查看/编辑详细内容] [保存修改]
} else {
  // 新增模式 或 没有内容
  显示: [取消] [AI生成预览]
}

// 预览页底部按钮
显示: [返回修改] [保存到库]
```

### 提示框逻辑
```typescript
// 表单页绿色提示框
if (editingPersona && personaContent) {
  显示: "已有完整人设内容，修改类目和商品后..."
}
```

---

## 📝 总结

### 编辑体验改进
- **之前**：点编辑 → 看不到类目商品 → 不知道怎么改 ❌
- **现在**：点编辑 → 看到类目商品 → 可以直接改 → 保存 ✅

### 关键区别
- **编辑**：有数据 → 可以改 → 快速保存
- **新增**：无数据 → 需要生成 → 然后保存

### 使用建议
1. 只改类目/商品 → 直接在表单页保存
2. 要改详细内容 → 点"查看/编辑详细内容"
3. 都要改 → 先改类目 → 再改详细内容

